

<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>

 .login {
    width: 500px;
    margin: auto;
    text-align: center;
}

.head {
    width:500px;
    margin: auto;
    margin-top: 20px;
    margin-bottom: 20px;
    border: 3px dotted blue;
}
#search_head{
   width: auto;
}
.panel {
    width: 100%;
    border: 3px solid red;
    margin: auto;
    margin-top: 10px;
    margin-bottom: 10px;
}
table{
	display: grid;
	grid-template-rows: 1fr;
    border : 3px dotted black;
}
tr{
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
	border:3px solid rgb(97, 46, 46);
    margin-top: 10px;
    margin-bottom: 10px;
    text-align: center;

}

th,td{
    display: grid;
    padding:1px;
}

.search_text{
    margin-left: 30px;
    margin-right: 50px;
}
#subject_search_btn{
    position: absolute;
    left: 50px;
    right: -100px;
}
.head_row{
    display: grid;
    grid-template-columns: 5fr 5fr 3fr;
    max-height: 25px;
    margin-bottom: 5px;
}
</style>
<body>
<div class="login" sec:authorize="isAnonymous()">

    <h1>수강신청 시스템</h1>

    <a th:href="@{~/members/login}">
    <button class="login_button">로그인</button>
    </a>
</div>

<div class="wrap2" sec:authorize="isAuthenticated()" >
    <div>
        <div id="student_panel" class="panel"> <!--학번 이름 및 자기 정보-->
            <div id="student_head" class="head">
                <p>학생 기초정보
                    <span th:text="${nickName}+ '님'"></span>
                    <a href="/members/logout">
                        <button class="logout_btn" type="submit" value="submit">로그 아웃</button> <!--TODO 로그아웃 버튼 -> 로그인 페이지로 이동-->
                    </a>

                    <a href="/members/myPage">
                        <button class="mypage_btn" >마이 페이지</button> <!--TODO 마이 페이지로 이동-->

                    </a>


            </div>
            <div id="student_main_panel" class="main">
                <p align="center">학번:
                    <span th:text="' '+${loginId}"> </span> <!-- TODO 로그인 한 정보를 가져와서 채우기-->
                </p>
                <p align="center">이름:
                    <span th:text="' '+${nickName}" > </span> <!--TODO 로그인 한 정보를 가져와서 채우기-->
            </div>


        </div>
        <div id="search_panel" class="panel"> <!-- 과목 검색 총 main-->
            <div id="search_head" class="head"> <!--과목 검색 내용 -> 서버로 전송해 데베 내용과 비교하여 table을 구성-->
                <!--TODO 검색시 헤드의 내용을 데베 서버로 전송-->
                <div class="head_row">
                    <span class="search_text">학과 <input type="text" name="학과" class="serach_input" size=15/></span>
                    <span class="search_text">학년 <input type="text" name="학년" class="search_input" size=5/></span>
                    <span class="search_text">교수명 <input type="text" name="교수명" class="search_input" size=8/></span>
                </div>
                <div class="head_row">
                    <span class="search_text">과목명 <input type="text" name="과목명" class="search_input" size=15/></span>
                    <span class="search_text">과목번호 <input type="text" name="과목번호" class="search_input" size="10"/><span> - </span>
                        <input type="text" name="과목번호" class="search_input" size="3"/></span>
                </div>
                <input id="subject_saerch_btn" type="submit" value="검색" >
            </div>
            <div id = "search_main" class = "main">
                <table>
                    <thead>
                    <tr>
                        <th>학과</th>
                        <th>학년</th>
                        <th>과목번호</th>
                        <th>분반</th>
                        <th>과목명</th>
                        <th>교수명</th>
                        <th>학점</th>
                        <th>현재 신청인원</th>


                    </tr>
                    </thead>

                    <tbody>
                    <tr th:each="lecture : ${lectureList}">
                        <td th:text="${lecture.department}"></td>
                        <td th:text="${lecture.forGrade}"></td>
                        <td th:text="${lecture.subjectNumber}"></td>
                        <td th:text="${lecture.classNum}"></td>
                        <td th:text="${lecture.subject}"></td>
                        <td th:text="${lecture.professorName}"></td>
                        <td th:text="${lecture.credit}"></td>
                        <td th:text="${lecture.currentNum}+'/'+${lecture.maxNum}"></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td >
                            <a th:href="@{~/members/applyLecture/}+${lecture.lectureId}">
                                <button >신청</button>
                            </a>
                        </td>

                    </tr>
                    </tbody>

                </table>

            </div>
        </div>

    </div>
</div>

</body>
</html>